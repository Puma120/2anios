<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>❤️</text></svg>" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nuestros 2 Años Juntos ❤️</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Playfair Display', serif;
        background: #000000;
        min-height: 100vh;
        overflow: hidden;
        position: relative;
      }

      /* Canvas de fondo para las partículas */
      canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1;
      }

      svg {
        position: absolute;
        display: none;
      }
      
      .main-container {
        position: relative;
        z-index: 10;
        text-align: center;
        max-width: 700px;
        padding: 60px 40px;
        margin: 0 auto;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        /* Quitamos el fondo y efectos que tapaban la animación */
      }
      
      h1 {
        font-family: 'Dancing Script', cursive;
        font-size: 4.5em;
        font-weight: 700;
        margin-bottom: 30px;
        background: linear-gradient(45deg, #ff69b4, #ff1493, #ffd1dc, #fff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 0 30px rgba(255, 105, 180, 0.8);
        animation: glow 3s ease-in-out infinite alternate;
        line-height: 1.2;
      }

      @keyframes glow {
        from {
          filter: drop-shadow(0 0 20px rgba(255, 182, 193, 0.5));
        }
        to {
          filter: drop-shadow(0 0 40px rgba(255, 105, 180, 0.8));
        }
      }
      
      .subtitle {
        font-size: 1.4em;
        margin-bottom: 40px;
        color: rgba(255, 182, 193, 0.9);
        font-weight: 400;
        letter-spacing: 1px;
        text-shadow: 0 0 20px rgba(255, 105, 180, 0.6);
        animation: fadeInUp 2s ease-out;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .hearts {
        font-size: 2.5em;
        margin: 40px 0;
        animation: heartbeat 2.5s ease-in-out infinite;
        filter: drop-shadow(0 0 15px rgba(255, 105, 180, 0.6));
      }
      
      @keyframes heartbeat {
        0%, 100% { 
          transform: scale(1);
          opacity: 0.8;
        }
        50% { 
          transform: scale(1.15);
          opacity: 1;
        }
      }
      
      .start-button {
        padding: 25px 50px;
        font-size: 1.4em;
        font-family: 'Playfair Display', serif;
        font-weight: 700;
        background: linear-gradient(45deg, #ff6b9d, #ee5a8a, #ff69b4, #ff1493);
        background-size: 300% 300%;
        color: white;
        border: none;
        border-radius: 60px;
        cursor: pointer;
        transition: all 0.4s ease;
        text-transform: uppercase;
        letter-spacing: 3px;
        box-shadow: 0 15px 35px rgba(255, 20, 147, 0.4);
        position: relative;
        overflow: hidden;
        animation: gradientShift 4s ease infinite, pulse 2s ease-in-out infinite;
      }

      @keyframes gradientShift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }

      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      
      .start-button:hover {
        transform: translateY(-5px) scale(1.08);
        box-shadow: 0 20px 50px rgba(255, 20, 147, 0.6);
        letter-spacing: 4px;
      }

      .start-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: left 0.6s;
      }

      .start-button:hover::before {
        left: 100%;
      }

      .romantic-text {
        position: absolute;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        color: rgba(255, 255, 255, 0.8);
        font-style: italic;
        font-size: 1.1em;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        animation: fadeIn 3s ease-out 1s both;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      /* Efectos adicionales de partículas CSS */
      .floating-hearts {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 5;
      }

      .floating-heart {
        position: absolute;
        color: rgba(255, 182, 193, 0.6);
        font-size: 20px;
        animation: float 8s infinite linear;
      }

      @keyframes float {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-100px) rotate(360deg);
          opacity: 0;
        }
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 3em;
        }
        .subtitle {
          font-size: 1.1em;
        }
        .start-button {
          padding: 20px 40px;
          font-size: 1.2em;
        }
        .main-container {
          margin: 20px;
          padding: 40px 30px;
        }
      }
    </style>
  </head>
  <body>
    <!-- SVG oculto para las partículas -->
    <svg viewBox="0 0 600 552">
      <path d="M300,107.77C284.68,55.67,239.76,0,162.31,0,64.83,0,0,82.08,0,171.71c0,.48,0,.95,0,1.43-.52,19.5,0,217.94,299.87,379.69v0l0,0,.05,0,0,0,0,0v0C600,391.08,600.48,192.64,600,173.14c0-.48,0-.95,0-1.43C600,82.08,535.17,0,437.69,0,360.24,0,315.32,55.67,300,107.77" fill="#ee5282"/>
    </svg>

    <!-- Contenedor principal -->
    <div class="main-container">
      <h1>Nuestros 2 Años💕</h1>
      <p class="subtitle">Por una vida llena de amor, risas y momentos especiales</p>
      <div class="hearts">💖 💕 💝 💗 💘</div>
      <button class="start-button" onclick="startJourney()">
        Que comiencen las sorpresas
      </button>
    </div>

    <!-- Corazones flotantes adicionales -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <div class="romantic-text">
      "El amor no se mide en tiempo, sino en momentos inolvidables"
    </div>
    
    <!-- Scripts -->
    <script src='https://cdn.jsdelivr.net/npm/three@0.136.0/build/three.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/three@0.136.0/examples/js/controls/OrbitControls.js'></script>
    <script src='https://unpkg.co/gsap@3/dist/gsap.min.js'></script>

    <script>
      // Función para navegar a la primera animación
      function startJourney() {
        // Efecto de transición suave
        document.body.style.transition = 'opacity 0.5s ease-out';
        document.body.style.opacity = '0';
        
        setTimeout(() => {
          window.location.href = './valentine/index.html';
        }, 500);
      }

      // Animación de partículas de corazón con Three.js
      console.clear();
      
      /* SETUP */
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        5000
      );
      camera.position.z = 400;

      const renderer = new THREE.WebGLRenderer({ alpha: true });
      renderer.setPixelRatio(window.devicePixelRatio > 1 ? 2 : 1);
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.domElement.style.position = 'fixed';
      renderer.domElement.style.top = '0';
      renderer.domElement.style.left = '0';
      renderer.domElement.style.zIndex = '1';
      document.body.appendChild(renderer.domElement);

      /* PARTICLES */
      const tl = gsap.timeline({
        repeat: -1,
        yoyo: true
      });

      const path = document.querySelector("path");
      const length = path.getTotalLength();
      const vertices = [];
      
      for (let i = 0; i < length; i += 0.2) {
        const point = path.getPointAtLength(i);
        const vector = new THREE.Vector3(point.x, -point.y, 0);
        vector.x += (Math.random() - 0.5) * 40;
        vector.y += (Math.random() - 0.5) * 40;
        vector.z += (Math.random() - 0.5) * 100;
        vertices.push(vector);
        
        tl.from(vector, {
            x: 600 / 2,
            y: -552 / 2,
            z: 0,
            ease: "power2.inOut",
            duration: "random(3, 6)"
          },
          i * 0.003
        );
      }
      
      const geometry = new THREE.BufferGeometry().setFromPoints(vertices);
      const material = new THREE.PointsMaterial({ 
        color: 0xff69b4, 
        blending: THREE.AdditiveBlending, 
        size: 4,
        transparent: true,
        opacity: 0.8
      });
      const particles = new THREE.Points(geometry, material);
      
      particles.position.x -= 600 / 2;
      particles.position.y += 552 / 2;
      scene.add(particles);

      gsap.fromTo(scene.rotation, {
        y: -0.3
      }, {
        y: 0.3,
        repeat: -1,
        yoyo: true,
        ease: 'power2.inOut',
        duration: 6
      });

      /* RENDERING */
      function render() {
        requestAnimationFrame(render);
        geometry.setFromPoints(vertices);
        renderer.render(scene, camera);
      }

      /* EVENTS */
      function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }
      window.addEventListener("resize", onWindowResize, false);

      requestAnimationFrame(render);

      // Corazones flotantes adicionales con CSS
      function createFloatingHeart() {
        const hearts = ['💖', '💕', '💝', '💗', '💘', '💞', '💓'];
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
        heart.style.animationDelay = Math.random() * 2 + 's';
        
        document.getElementById('floatingHearts').appendChild(heart);
        
        setTimeout(() => {
          heart.remove();
        }, 8000);
      }

      // Crear corazones flotantes cada 2 segundos
      setInterval(createFloatingHeart, 2000);

      // Crear algunos corazones iniciales
      for(let i = 0; i < 5; i++) {
        setTimeout(createFloatingHeart, i * 400);
      }
    </script>
  </body>
</html>
